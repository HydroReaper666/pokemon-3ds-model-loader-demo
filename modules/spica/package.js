(()=>{require("./motion.js");module.exports=function(e){this.offset=e.index,this.length=e.end-e.index;let t=e.subreader();this.magic=e.readUint32();let r=e.readUint32(),a=[],d=0;for(;d<r;)a.push({type:e.readUint32(),length:e.readUint32(),offset:e.readUint32()}),++d;this.sections=a.map(e=>{let r={header:e},a=t.subreader(e.offset,e.length);if(1===e.type){r.part={};let e=a.readUint32(),t=0;for(;t<e;){let e=a.readString(64);r.part[e]={flags:a.readUint32(),data:[a.readFloat32(),a.readFloat32(),a.readFloat32(),a.readFloat32(),a.readFloat32()]},++t}for(;a.index<a.end;)if(0!==a.readUint8())throw new Error("Invalid padding, expected 0")}else if(2===e.type){r.part={};let e=a.readUint32(),t=0;for(;t<e;){let e=a.readString(64);r.part[e]={data:[a.readFloat32(),a.readFloat32(),a.readFloat32(),a.readFloat32()]},++t}for(;a.index<a.end;)if(0!==a.readUint8())throw new Error("Invalid padding, expected 0")}else if(4===e.type){r.part={};let e=a.readUint32(),t=0;for(;t<e;){let e=a.readString(64),d=a.readString(64);r.part[e]={data:[a.readFloat32()]},r.part[d]=r.part[e],++t}for(;a.index<a.end;)if(0!==a.readUint8())throw new Error("Invalid padding, expected 0")}else if(5===e.type){let e=a.readUint32(),t=a.readUint32();r.xs=[];let d=0;for(;d<e;)r.xs.push([a.readUint8(),a.readUint8(),a.readUint8(),a.readUint8()]),++d;for(r.ys=[],d=0;d<t;)r.ys.push([a.readUint8(),a.readUint8(),a.readUint8(),a.readUint8()]),++d;for(r.xys=[],d=0;d<e*t;)r.xys.push(a.readUint8()),++d;for(;a.index<a.end;)if(255!==a.readUint8())throw new Error("Invalid padding, expected 0xff")}return r});let n=t.subreader(a[a.length-1].offset+a[a.length-1].length);for(;n.index<n.end;)if(0!==n.readUint8())throw new Error("Invalid padding, expected 0")}})(this.$);