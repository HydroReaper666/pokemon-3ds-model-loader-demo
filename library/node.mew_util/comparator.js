var foundation=null,numberComparator=function(a,r){return a<r?-1:a>r?1:a===r?0:-1},dateComparator=function(a,r){return a=a.getTime(),r=r.getTime(),a<r?-1:a>r?1:a===r?0:-1},stringComparator=function(a,r){return a.localeCompare(r)},naturalComparator=function(a,r){var t,e,n=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,o=/^\s+|\s+$/g,i=/\s+/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,p=/^0x[0-9a-f]+$/i,l=/^0/,s=function(a){return(""+a).replace(o,"")},c=s(a)||"",d=s(r)||"",f=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=d.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(c.match(p),16)||1!==f.length&&Date.parse(c),C=parseInt(d.match(p),16)||g&&d.match(u)&&Date.parse(d)||null,h=function(a,r){return a?(!a.match(l)||1==r)&&parseFloat(a)||a.replace(i," ").replace(o,"")||0:0};if(C){if(g<C)return-1;if(g>C)return 1}for(var N=0,w=f.length,$=m.length,v=Math.max(w,$);N<v;N++){if(t=h(f[N],w),e=h(m[N],$),isNaN(t)!==isNaN(e))return isNaN(t)?1:-1;if(typeof t!=typeof e&&(t+="",e+=""),t<e)return-1;if(t>e)return 1}return 0},insensitiveNaturalComparator=function(a,r){var t,e,n=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,o=/^\s+|\s+$/g,i=/\s+/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,p=/^0x[0-9a-f]+$/i,l=/^0/,s=function(a){return((""+a).toLocaleLowerCase()||""+a).replace(o,"")},c=s(a)||"",d=s(r)||"",f=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=d.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(c.match(p),16)||1!==f.length&&Date.parse(c),C=parseInt(d.match(p),16)||g&&d.match(u)&&Date.parse(d)||null,h=function(a,r){return a?(!a.match(l)||1==r)&&parseFloat(a)||a.replace(i," ").replace(o,"")||0:0};if(C){if(g<C)return-1;if(g>C)return 1}for(var N=0,w=f.length,$=m.length,v=Math.max(w,$);N<v;N++){if(t=h(f[N],w),e=h(m[N],$),isNaN(t)!==isNaN(e))return isNaN(t)?1:-1;if(typeof t!=typeof e&&(t+="",e+=""),t<e)return-1;if(t>e)return 1}return 0},generatePathComparator=function(a,r,t){return foundation||(foundation=require("./foundation.js")),function(e,n){var o=foundation.getProperty(e,a),i=n;switch(t||(i=foundation.getProperty(n,a)),r){case"date":foundation.convert(o,"date"),foundation.convert(i,"date");case"string":return foundation.isNull(o)?foundation.isNull(i)?0:-1:foundation.isNull(i)?1:(o+"").localeCompare(i+"");case"natural":return naturalComparator(o,i);case"insensitive-natural":return insensitiveNaturalComparator(o,i);case"number":default:return o<i?-1:o>i?1:o===i?0:-1}}};module.exports={numberComparator:numberComparator,dateComparator:dateComparator,stringComparator:stringComparator,naturalComparator:naturalComparator,insensitiveNaturalComparator:insensitiveNaturalComparator,generatePathComparator:generatePathComparator};