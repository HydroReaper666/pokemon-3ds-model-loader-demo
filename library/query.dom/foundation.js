$(function(){var e=-1!==window.navigator.userAgent.toLowerCase().indexOf("msie 8"),t=-1!==window.navigator.userAgent.toLowerCase().indexOf("msie 7");$.dom={};var r=Symbol("eventListeners");$.dom.eventListenersSymbol=r;var n=function(e){return e[r]||(e[r]={}),e[r]},i=function(e){if($.is(e,RegExp))return e;if($.is.nil(e))return/$^/;var t=new RegExp("^"+(e+"").replace(/[\$\^\(\)\-\+\[\]\{\}\\\|\,\?\/\.]/g,function(e){return"\\"+e}).replace(/(\\\.)*(\*+)(\\\.)*/g,function(e){return"\\."===e.slice(0,2)?"\\."===e.slice(-2)?"(\\.|\\..+\\.)":"(\\..+)?":"\\."===e.slice(-2)?"(.+\\.)?":".*"})+"$","m");return t.fromString=e,t},a=function(){};a.prototype.serializeToString=function(e,t){t=t?$.merge({},t):{};var r=this;switch(e.nodeType){case Node.TEXT_NODE:return $.dom.escapeXML(e.nodeValue);case Node.ATTRIBUTE_NODE:return $.dom.escapeXML(e.nodeName)+'="'+$.dom.escapeXML(e.nodeValue)+'"';case Node.CDATA_SECTION_NODE:return"<![CDATA["+e.nodeValue+"]]>";case Node.COMMENT_NODE:return"\x3c!--"+e.nodeValue+"--\x3e";case Node.ELEMENT_NODE:var n=["<"],i=e.namespaceURI,a=e.nodeName,o=e.prefix,s={};if("http://www.w3.org/1999/xhtml"===i){var l=(a=a.toLocaleLowerCase()).split(":");l.length>1?(o=l[0],i=t[i]):i=null}return n.push(a),e.attributes.length>0&&(n.push(" "),n.push(Array.prototype.map.call(e.attributes,function(e){var n=null,i=null;return"xmlns"===e.nodeName?(i="",n=e.nodeValue):0===e.nodeName.indexOf("xmlns:")&&(i=e.nodeName.substring(6),n=e.nodeValue),n&&(t[i]=n),e.namespaceURI&&"http://www.w3.org/2000/xmlns/"!==e.namespaceURI&&(i=e.prefix?e.prefix:"",s[i]=e.namespaceURI),r.serializeToString(e)}).join(" "))),i?t[o||""]!==i&&i&&(o?(t[o]=i,n.push(" xmlns:"+o+'="'+i+'"')):(t[""]=i,n.push(' xmlns="'+i+'"'))):!o&&t[""]!==e.namespaceURI&&e.namespaceURI&&(n.push(' xmlns="'+e.namespaceURI+'"'),t[""]=e.namespaceURI),Object.keys(s).forEach(function(e){t[e]!==s[e]&&(t[e]=s[e],e?n.push(" xmlns:"+e+'="'+s[e]+'"'):n.push(' xmlns="'+s[e]+'"'))}),e.childNodes.length>0?(n.push(">"),n.push(Array.prototype.map.call(e.childNodes,function(e){return r.serializeToString(e,t)}).join("")),n.push("<"),n.push("/"),n.push(a),n.push(">")):(n.push("/"),n.push(">")),n.join("");case Node.DOCUMENT_FRAGMENT_NODE:case Node.DOCUMENT_NODE:n=[];return Array.prototype.forEach.call(e.childNodes,function(e){n.push(r.serializeToString(e))}),n.join("");case Node.DOCUMENT_TYPE_NODE:case Node.ENTITY_NODE:case Node.ENTITY_REFERENCE_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.NOTATION_NODE:}},$.dom.loadImages=function(){var e=Array.prototype.slice.call(arguments,0),t=[];return $.async.all(e,5,function(e){var r=new Image;r.addEventListener("error",function(){t.push(e),this.next()}.bind(this)),r.addEventListener("load",this.next),r.src=e}).then(function(){if(failed.length>0){var e=new Error("Not all image loaded");e.faileds=t,this.reject(e)}else this.next()})},$.dom.attachCSS=function(e,t){t||(t=1e4);var r=Math.floor(t/50);return $.async(function(){var t=new URL(e,document.URL);if(!(r=$("link[rel=stylesheet]").filter(e=>e.href===t.href)).length){var r=$("<link>").attribute({rel:"stylesheet",href:e});$("head").append(r)}this.next(r)}).then(function(e){e[0].sheet&&e[0].sheet.rules?this.next(e):0===document.URL.indexOf("chrome-extension://")?this.next(e):$.delay(50,function(){this.retry(r)}.bind(this))})},$.dom.escapeXML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var o={"&amp;":"&#x26;","&lt;":"&#x3C;","&gt;":"&#x3E;","&nbsp;":"&#xA0;","&iexcl;":"&#xA1;","&cent;":"&#xA2;","&pound;":"&#xA3;","&curren;":"&#xA4;","&yen;":"&#xA5;","&brvbar;":"&#xA6;","&sect;":"&#xA7;","&uml;":"&#xA8;","&copy;":"&#xA9;","&ordf;":"&#xAA;","&laquo;":"&#xAB;","&not;":"&#xAC;","&shy;":"&#xAD;","&reg;":"&#xAE;","&macr;":"&#xAF;","&deg;":"&#xB0;","&plusmn;":"&#xB1;","&sup2;":"&#xB2;","&sup3;":"&#xB3;","&acute;":"&#xB4;","&micro;":"&#xB5;","&para;":"&#xB6;","&middot;":"&#xB7;","&cedil;":"&#xB8;","&sup1;":"&#xB9;","&ordm;":"&#xBA;","&raquo;":"&#xBB;","&frac14;":"&#xBC;","&frac12;":"&#xBD;","&frac34;":"&#xBE;","&iquest;":"&#xBF;","&Agrave;":"&#xC0;","&Aacute;":"&#xC1;","&Acirc;":"&#xC2;","&Atilde;":"&#xC3;","&Auml;":"&#xC4;","&Aring;":"&#xC5;","&AElig;":"&#xC6;","&Ccedil;":"&#xC7;","&Egrave;":"&#xC8;","&Eacute;":"&#xC9;","&Ecirc;":"&#xCA;","&Euml;":"&#xCB;","&Igrave;":"&#xCC;","&Iacute;":"&#xCD;","&Icirc;":"&#xCE;","&Iuml;":"&#xCF;","&ETH;":"&#xD0;","&Ntilde;":"&#xD1;","&Ograve;":"&#xD2;","&Oacute;":"&#xD3;","&Ocirc;":"&#xD4;","&Otilde;":"&#xD5;","&Ouml;":"&#xD6;","&times;":"&#xD7;","&Oslash;":"&#xD8;","&Ugrave;":"&#xD9;","&Uacute;":"&#xDA;","&Ucirc;":"&#xDB;","&Uuml;":"&#xDC;","&Yacute;":"&#xDD;","&THORN;":"&#xDE;","&szlig;":"&#xDF;","&agrave;":"&#xE0;","&aacute;":"&#xE1;","&acirc;":"&#xE2;","&atilde;":"&#xE3;","&auml;":"&#xE4;","&aring;":"&#xE5;","&aelig;":"&#xE6;","&ccedil;":"&#xE7;","&egrave;":"&#xE8;","&eacute;":"&#xE9;","&ecirc;":"&#xEA;","&euml;":"&#xEB;","&igrave;":"&#xEC;","&iacute;":"&#xED;","&icirc;":"&#xEE;","&iuml;":"&#xEF;","&eth;":"&#xF0;","&ntilde;":"&#xF1;","&ograve;":"&#xF2;","&oacute;":"&#xF3;","&ocirc;":"&#xF4;","&otilde;":"&#xF5;","&ouml;":"&#xF6;","&divide;":"&#xF7;","&oslash;":"&#xF8;","&ugrave;":"&#xF9;","&uacute;":"&#xFA;","&ucirc;":"&#xFB;","&uuml;":"&#xFC;","&yacute;":"&#xFD;","&thorn;":"&#xFE;","&yuml;":"&#xFF;","&fnof;":"&#x192;","&Alpha;":"&#x391;","&Beta;":"&#x392;","&Gamma;":"&#x393;","&Delta;":"&#x394;","&Epsilon;":"&#x395;","&Zeta;":"&#x396;","&Eta;":"&#x397;","&Theta;":"&#x398;","&Iota;":"&#x399;","&Kappa;":"&#x39A;","&Lambda;":"&#x39B;","&Mu;":"&#x39C;","&Nu;":"&#x39D;","&Xi;":"&#x39E;","&Omicron;":"&#x39F;","&Pi;":"&#x3A0;","&Rho;":"&#x3A1;","&Sigma;":"&#x3A3;","&Tau;":"&#x3A4;","&Upsilon;":"&#x3A5;","&Phi;":"&#x3A6;","&Chi;":"&#x3A7;","&Psi;":"&#x3A8;","&Omega;":"&#x3A9;","&alpha;":"&#x3B1;","&beta;":"&#x3B2;","&gamma;":"&#x3B3;","&delta;":"&#x3B4;","&epsilon;":"&#x3B5;","&zeta;":"&#x3B6;","&eta;":"&#x3B7;","&theta;":"&#x3B8;","&iota;":"&#x3B9;","&kappa;":"&#x3BA;","&lambda;":"&#x3BB;","&mu;":"&#x3BC;","&nu;":"&#x3BD;","&xi;":"&#x3BE;","&omicron;":"&#x3BF;","&pi;":"&#x3C0;","&rho;":"&#x3C1;","&sigmaf;":"&#x3C2;","&sigma;":"&#x3C3;","&tau;":"&#x3C4;","&upsilon;":"&#x3C5;","&phi;":"&#x3C6;","&chi;":"&#x3C7;","&psi;":"&#x3C8;","&omega;":"&#x3C9;","&thetasym;":"&#x3D1;","&upsih;":"&#x3D2;","&piv;":"&#x3D6;","&bull;":"&#x2022;","&hellip;":"&#x2026;","&prime;":"&#x2032;","&Prime;":"&#x2033;","&oline;":"&#x203E;","&frasl;":"&#x2044;","&weierp;":"&#x2118;","&image;":"&#x2111;","&real;":"&#x211C;","&trade;":"&#x2122;","&alefsym;":"&#x2135;","&larr;":"&#x2190;","&uarr;":"&#x2191;","&rarr;":"&#x2192;","&darr;":"&#x2193;","&harr;":"&#x2194;","&crarr;":"&#x21B5;","&lArr;":"&#x21D0;","&uArr;":"&#x21D1;","&rArr;":"&#x21D2;","&dArr;":"&#x21D3;","&hArr;":"&#x21D4;","&forall;":"&#x2200;","&part;":"&#x2202;","&exist;":"&#x2203;","&empty;":"&#x2205;","&nabla;":"&#x2207;","&isin;":"&#x2208;","&notin;":"&#x2209;","&ni;":"&#x220B;","&prod;":"&#x220F;","&sum;":"&#x2211;","&minus;":"&#x2212;","&lowast;":"&#x2217;","&radic;":"&#x221A;","&prop;":"&#x221D;","&infin;":"&#x221E;","&ang;":"&#x2220;","&and;":"&#x2227;","&or;":"&#x2228;","&cap;":"&#x2229;","&cup;":"&#x222A;","&int;":"&#x222B;","&there4;":"&#x2234;","&sim;":"&#x223C;","&cong;":"&#x2245;","&asymp;":"&#x2248;","&ne;":"&#x2260;","&equiv;":"&#x2261;","&le;":"&#x2264;","&ge;":"&#x2265;","&sub;":"&#x2282;","&sup;":"&#x2283;","&nsub;":"&#x2284;","&sube;":"&#x2286;","&supe;":"&#x2287;","&oplus;":"&#x2295;","&otimes;":"&#x2297;","&perp;":"&#x22A5;","&sdot;":"&#x22C5;","&lceil;":"&#x2308;","&rceil;":"&#x2309;","&lfloor;":"&#x230A;","&rfloor;":"&#x230B;","&lang;":"&#x2329;","&rang;":"&#x232A;","&loz;":"&#x25CA;","&spades;":"&#x2660;","&clubs;":"&#x2663;","&hearts;":"&#x2665;","&diams;":"&#x2666;"};$.dom.replaceHTMLEntityForXML=function(e){return e.replace(/&[a-zA-Z0-9]+;/g,function(e){var t=o[e];return t||(t=""),t})};var s={};!function(){for(var e=window.getComputedStyle(document.body),t=0;t<e.length;)"-"===e[t][0]&&(s[e[t][0].split("-").slice(2).join("-")]=e[t][0]),++t}(),$.dom.actualStyleName=function(e){return s.hasOwnProperty(e)?s[e]:e},$.dom.getCollapsedMargins=function(e,t){var r="relative",n=0,i=0,a=0,o=0;if(t||(t=e.parent()),(t=t.first())&&(t=$(t)).children().first()&&0===t.between(t.children().first(),e.first()).unshift(t.children().first()).filter(function(e){return e.nodeType===Node.ELEMENT_NODE?"absoulte"!==$(e).style("display"):e.nodeType===Node.TEXT_NODE&&e.nodeValue.trim().length>0}).length){var s=t.style();s&&(r=s.display,n=parseFloat(s["top-border-width"]),i=parseFloat(s["left-border-width"]),a=parseFloat(s["padding-top"]),o=parseFloat(s["padding-left"]))}if("absoulte"===r)return{left:0,top:0};var l=function(e){var t=e.filter(function(e){return e.nodeType===Node.ELEMENT_NODE?"absoulte"!==$(e).style("display"):e.nodeType===Node.TEXT_NODE&&e.nodeValue.trim().length>0}).first();if(t&&t.nodeType!==Node.TEXT_NODE){var r=$(t).style();if(r){var s=parseFloat(r["top-border-width"]),u=parseFloat(r["left-border-width"]),c=parseFloat(r["margin-top"]),f=parseFloat(r["margin-left"]),p=parseFloat(r["padding-top"]),h=parseFloat(r["padding-left"]),d=l($(t).children());return d.top=s>0||p>0||n>0||a>0?0:Math.max(d.top,c),d.left=u>0||h>0||i>0||o>0?0:Math.max(d.left,f),isFinite(d.left)||(d.left=0),isFinite(d.top)||(d.top=0),d}return{left:0,top:0}}return{left:0,top:0}};return l(e)},$.dom.matchSelector=function(e,t){return $.dom.matchSelector.query(e,t)[0]},$.dom.matchSelector.query=function(e,t){e=$(e);var r=Element.prototype.matches;return r||(r=Element.prototype.matchesSelector),r||(r=Element.prototype.webkitMatchesSelector),r||(r=Element.prototype.mozMatchesSelector),r||(r=Element.prototype.msMatchesSelector),r?e.map(function(e){return!!$.is(e,Element)&&r.call(e,t)}):e.map(function(){return!1})},$.dom.matchSelector.super=function(e,t){return $.dom.matchSelector.super.query(e,t)[0]},$.dom.matchSelector.super.query=function(e,t){return $(e).map(function(e){for(;e;){if($.dom.matchSelector(e,t))return!0;e=e.parentElement}return!1})},$.dom.filterSelectors=function(e,t){return $.dom.filterSelectors.query(e,t)[0]},$.dom.filterSelectors.query=function(e,t){return $(e).map(function(e){return t.filter(function(t){return $.dom.matchSelector.super(e,t)}).map(function(e){var t=e.replace(/\\./g,"").replace(/'[^']*'/g,"").replace(/"[^"]*"/g,""),r=[],n=function(e){return r.push(e.length-1),e.join("")},i=t;return i=n(i.split(/#[a-z0-9\-_]+/gim)),i=n(i.split(/:[a-z0-9\-_\(\)]+/gim)),i=n(i.split(/\[[^\]]]/gim)),i=n(i.split(/\.[a-z0-9\-_]+/gim)),i=n(i.split(/[a-z0-9\-_]+/gim)),i=n(i.split(/\*/gim)),{simplified:t,scores:r,selector:e}}).sort(function(e,t){for(var r=0;r<e.scores.length;){if(e.scores[r]<t.scores[r])return 1;if(e.scores[r]>t.scores[r])return-1;++r}return 0}).map(function(e){return e.selector})})};var l={};$.dom.upgradeEventListener=function(e,t){return l.hasOwnProperty(e)||(l[e]=[]),l[e].push(t),this},$.upgrade({domain:"dom",test:function(e){return 0===e.length||1===e.length&&$.is(e[0],String)||$.is.nil(e[0])||$.is(e[0],Node)},initializer:function(e){if(e.length>0)if($.is.nil(e[0]));else if($.is(e[0],$.Query)){var t=this;e[0].forEach(function(e){t.include(e)})}else $.is(e[0],Node)?$.iterate.array(e,function(e){this.include(e)}.bind(this)):"<"===e[0].trim().charAt(0)?$.parse("html",e[0]).operateOn(this,function(e,t){e.include(t)}):"body"===e[0]?this.include(document.body):$.query(document.querySelectorAll(e[0])).operateOn(this,function(e,t){e.include(t)})},addons:{blur:function(){return this.forEach(function(e){e.blur&&e.blur()})},focus:function(){return this.forEach(function(e){e.focus&&e.focus()})},select:function(){return this.forEach(function(e){e.select&&e.select()})},feature:function(){return 0===arguments.length?this.features()[0]:1!==arguments.length||$.is(arguments[0],Array)||$.is(arguments[0],String)?this.features.apply(this,arguments):this.features.apply(this,arguments)[0]},features:function(){var e=null,t=null,r=null;if(arguments.length>0&&!$.is(arguments[0],Array)&&!$.is(arguments[0],String)){var n=arguments[0];(e=n.name)||(e="class"),(t=n.target)||(t="attribute"),r=n.values,r=$.is.nil(r)?null:$.is(r,String)?r.split(/\s+/):Array.prototype.slice.call(r,0),arguments.length>1&&(r||(r=[]),Array.prototype.slice.call(arguments,1).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}))}else e="className",t="property",arguments.length>0&&(r=[],Array.prototype.slice.call(arguments,0).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}));if($.is.nil(r))switch(t){case"property":return this.map(function(t){var r=[];return t[e]&&t[e].toString().split(/\s+/).forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r});case"attribute":default:return this.map(function(t){var r=[],n=null;return(n=$.is(e,Array)?t.getAttributeNS(e[0],e[1]):t.getAttribute(e))&&n.split(/\s+/).forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r})}else{var i=[];switch(r.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),i=i.sort($.comparator.natural.insensitive).join(" "),t){case"property":return this.forEach(function(t){t[e]=i});case"attribute":default:return this.forEach(function(t){$.is(e,Array)?t.setAttributeNS(e[0],e[1],i):t.setAttribute(e,i)})}}},addFeatures:function(){var e=null,t=null,r=null;if(arguments.length>0&&!$.is(arguments[0],Array)&&!$.is(arguments[0],String)){var n=arguments[0];(e=n.name)||(e="class"),(t=n.target)||(t="attribute"),r=n.values,r=$.is.nil(r)?null:$.is(r,String)?r.split(/\s+/):Array.prototype.slice.call(r,0),arguments.length>1&&(r||(r=[]),Array.prototype.slice.call(arguments,1).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}))}else e="className",t="property",arguments.length>0&&(r=[],Array.prototype.slice.call(arguments,0).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}));var i=[];return $.is.nil(r)||r.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),this.forEach(function(r){var n=null;switch(t){case"property":n=r[e];break;case"attribute":default:n=$.is(e,Array)?r.getAttributeNS(e[0],e[1]):r.getAttribute(e)}n=n?n.split(/\s+/):[];var a=i.slice(0);switch(n.forEach(function(e){-1===a.indexOf(e)&&a.push(e)}),a=a.sort($.comparator.natural.insensitive).join(" "),t){case"property":r[e]=a;break;case"attribute":default:$.is(e,Array)?r.setAttributeNS(e[0],e[1],a):r.setAttribute(e,a)}})},hasFeature:function(){return this.hasFeatures.apply(this,arguments)[0]},hasFeatures:function(){var e=null,t=null,r=null;if(arguments.length>0&&!$.is(arguments[0],Array)&&!$.is(arguments[0],String)){var n=arguments[0];(e=n.name)||(e="class"),(t=n.target)||(t="attribute"),r=n.values,r=$.isNull(r)?null:$.is(r,String)?r.split(/\s+/):Array.prototype.slice.call(r,0),arguments.length>1&&(r||(r=[]),Array.prototype.slice.call(arguments,1).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}))}else e="className",t="property",arguments.length>0&&(r=[],Array.prototype.slice.call(arguments,0).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}));return this.features({name:e,target:t}).map(function(e){var t={};e.forEach(function(e){t[e]=!0});var n=!0;return r.forEach(function(e){t.hasOwnProperty(e)||(n=!1)}),n})},removeFeatures:function(){var e=null,t=null,r=null;if(arguments.length>0&&!$.is(arguments[0],Array)&&!$.is(arguments[0],String)){var n=arguments[0];(e=n.name)||(e="class"),(t=n.target)||(t="attribute"),r=n.values,r=$.is.nil(r)?null:$.is(r,String)?r.split(/\s+/):Array.prototype.slice.call(r,0),arguments.length>1&&(r||(r=[]),Array.prototype.slice.call(arguments,1).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}))}else e="className",t="property",arguments.length>0&&(r=[],Array.prototype.slice.call(arguments,0).forEach(function(e){$.is(e,Array)||(e=[e]),e.forEach(function(e){e.split(/\s+/).forEach(function(e){r.push(e)})})}));var i=[];return $.is.nil(r)||r.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),this.forEach(function(r){var n=null;switch(t){case"property":n=r[e];break;case"attribute":default:n=$.is(e,Array)?r.getAttributeNS(e[0],e[1]):r.getAttribute(e)}var a=[];switch((n=n?n.split(/\s+/):[]).forEach(function(e){-1===i.indexOf(e)&&-1===a.indexOf(e)&&a.push(e)}),a=a.sort($.comparator.natural.insensitive).join(" "),t){case"property":r[e]=a;break;case"attribute":default:$.is(e,Array)?r.setAttributeNS(e[0],e[1],a):r.setAttribute(e,a)}})},value:function(){if(1===arguments.length){const e=arguments[0];return this.forEach(t=>{t.value=e})}return this.map(e=>e.value)[0]},attribute:function(){return 0===arguments.length||1===arguments.length&&($.is(arguments[0],String)||$.is(arguments[0],Array))?this.attributes.apply(this,arguments).first():this.attributes.apply(this,arguments)},attributes:function(){if(0===arguments.length||1===arguments.length&&($.is(arguments[0],String)||$.is(arguments[0],Array))){var e=null;return 1===arguments.length&&(e=arguments[0]),this.map(function(e){var t=[];if(e.attributes)for(var r=0;r<e.attributes.length;){var n=e.attributes[r],i=n.namespaceURI;i||(i=null),t.push({prefix:n.prefix,localName:n.localName||n.baseName,nodeName:n.nodeName,namespaceURI:i,value:n.value}),++r}return t}).map(function(t){return null!==e?$.is(e,Array)?t.filter(function(t){return $.equals(t.namespaceURI,e[0])&&$.equals(t.localName,e[1])}).map(function(e){return e.value})[0]:t.filter(function(t){return $.equals(t.localName||t.baseName,e)}).map(function(e){return e.value})[0]:t})}var t={},r={};if(2===arguments.length)if($.is(arguments[0],String))t[arguments[0]]=arguments[1];else if($.is(arguments[0],Array)){t[arguments[0][1]]=arguments[1];var n=arguments[0][1].split(":");n=n.length>1?n[0]:"",r[n]=arguments[0][0]}else t=arguments[0],r=arguments[1];else t=arguments[0];return this.forEach(function(e){for(var n in t){var i=null,a=null,o=n.split(":");o.length>1?(i=o[0],a=o.slice(1).join(":")):(i="",a=o[0]);var s=r[i];s?$.is.nil(t[n])||""===t[n]?e.removeAttributeNS(s,n):e.setAttributeNS(s,n,t[n]):$.is.nil(t[n])||""===t[n]?e.removeAttribute(a,t[n]):e.setAttribute(a,t[n])}})},attributeUp:function(){var e=[];e=arguments.length>1?[[arguments[0],arguments[1]]]:[arguments[0]];var t=this,r=null;do{r=t.attribute.apply(t,e),t=t.parents()}while($.is.nil(r)&&t.length>0);return r},style:function(){return 0===arguments.length||1===arguments.length&&($.is(arguments[0],String)||$.is(arguments[0],Array))?this.styles.apply(this,arguments).first():this.styles.apply(this,arguments)},styles:function(){if(0===arguments.length||1===arguments.length&&($.is(arguments[0],String)||$.is(arguments[0],Array))){var r=null;return 1===arguments.length&&(r=arguments[0]),r?this.map(function(n){if(n.nodeType===Node.ELEMENT_NODE){var i=window.getComputedStyle(n),a=$.is(r,String);a&&(r=[r]);var o=r.map(function(r){return(e||t)&&"opacity"===r?/^alpha\(opacity=[0-9]+\)$/.test(i.filter)?parseInt(i.filter.slice(14,-1))/100:1:i.hasOwnProperty(r)?i[r]:i[["-webkit-","-ms-","-moz-","-o-"].filter(function(e){return i.hasOwnProperty(e+r)})[0]+r]});if(a)return o[0];for(var s={},l=0;l<r.length;)s[r[l]]=o[l],++l;return s}return null}):this.map(function(r){i=null;if(r.nodeType===Node.ELEMENT_NODE){var n=window.getComputedStyle(r);if(n&&n.length>0){for(var i={},a=0;a<n.length;){var o=o=n[a];"-"===o[0]&&(o=o.split("-").slice(2).join("-")),i[o]=n[n[a]],++a}if(e||t)if(i.filter){if(/^alpha\(opacity=[0-9]+\)$/.test(i.filter)){var s=parseInt(i.filter.slice(14,-1));i.opacity=s/100}}else i.opacity=1}}return i})}var n={};return 2===arguments.length?n[arguments[0]]=arguments[1]:n=arguments[0],this.forEach(function(r){for(var i in n)(e||t)&&"opacity"===i?r.style.filter="alpha(opacity="+Math.round(100*parseFloat(n[i]))+")":r.style[$.dom.actualStyleName(i)]=n[i]})},ancestor:function(e,t,r,n){var i=this.ancestors(e,t,r,n).first();return i?$(i):$.create.list(this.domain,[])},ancestors:function(e,t,r,n){return $.is(r,String)&&(r=function(e){return function(t){return!t.parentElement||-1!==Array.prototype.slice.call(t.parentElement.querySelectorAll(e),0).indexOf(t)}}(r)),this.map(function(i){for(var a=[];i;)a.push(i),i=i.parentNode;t&&a.shift();var o=!1;return a=a.filter(function(t){return!o&&(r&&r(t)?void(o=!0):!e||($.is(e,String)?$.dom.matchSelector(t,e):e(t)))}),n?a:a[0]}).lifted().valueSet()},parent:function(e){var t=this.parents(e).first();return t?$(t):$.create.list(this.domain,[])},parents:function(e){return this.map(function(e){return e.parentNode}).valueSet().filter(function(e){return!$.is.nil(e)}).filter(e)},before:function(e){return this.map(function(e){var t=$.create.list("dom",[]);do{(e=e.previousSibling)&&t.include(e)}while(e);return t}).lifted().valueSet().filter(e)},after:function(e){return this.map(function(e){var t=$.create.list("dom",[]);do{(e=e.nextSibling)&&t.include(e)}while(e);return t}).lifted().valueSet().filter(e)},siblings:function(e){return this.parents().children(e).exclude(this)},previous:function(e){var t=this.previouses(e).first();return t?$(t):$.create.list(this.domain,[])},previouses:function(e){return this.map(function(e){return e.previousSibling}).valueSet().filter(e)},next:function(e){var t=this.nexts(e).first();return t?$(t):$.create.list(this.domain,[])},nexts:function(e){return this.map(function(e){return e.nextSibling}).valueSet().filter(e)},children:function(e){return this.map(function(e){return e.childNodes}).lifted().filter(e)},filter:function(e){return $.is(e,String)?e=function(e){return function(t){return $.dom.matchSelector(t,e)}}(e):!0===e&&(e=function(e){return $.is(e,Element)}),arguments.callee.super.apply(this,[e])},query:function(e){return this.map(function(t){return t.querySelectorAll(e)}).lifted().valueSet()},prepend:function(){return $.query(arguments).lifted().operateOn(this,function(e,t){e.length>0&&e[0].insertBefore(t,e[0].firstChild)})},append:function(){return $.query(arguments).lifted().operateOn(this,function(e,t){e.length>0&&e[0].appendChild(t)})},insert:function(e,t){return $.is(t,$.Query)&&(t=t[0]),$.query(e).operateOn(this,function(e,r){if(e.length>0){var n=t;if($.is(n,Number))++t;else if(t){var i=$.query(e[0].childNodes).find(n);n=i.length>0?i[0]:e[0].childNodes.length}else n=e[0].childNodes.length;n===e[0].childNodes.length?e[0].appendChild(r):e[0].insertBefore(r,e[0].childNodes[n])}})},detach:function(e){return this.forEach(function(t){var r=t.parentNode;r&&(e&&$(r).insert($(t).children(),t),r.removeChild(t))})},between:function(e,t,r){return e=$(e).first(),t=$(t).first(),this.map(function(n){for(var i=!1,a=!1,o=[],s=n.firstChild;s;)s===e?(i=!0,r&&o.push(s)):s===t?(a=!0,r&&o.push(s)):i&&!a&&o.push(s),s=s.nextSibling;return o}).lifted()},fire:function(r){return this.forEach(function(i){if(t||e)if(-1!==r.type.indexOf(":"))for(var a=i;a&&!r.cancelBubble;){var o=n(a);o&&o[r.type]&&o[r.type].forEach(function(e){e.listener.call(a,r)}),a=a.parentNode}else i.fireEvent("on"+r.type,r);else i.dispatchEvent(r)})},on:function(r,i,a){return this.forEach(function(o){r.split(/\s+/).forEach(function(r){var s=r.split(".").slice(-1)[0],u=function(r){if((t||e)&&(r.currentTarget=o,r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||o)),-1!==s.indexOf(":")){var n=r.parameters.slice(0);n.unshift(r),i.apply(this,n)}else i.apply(this,arguments)};l.hasOwnProperty(s)&&l[s].forEach(function(e){u=e(r,o,u,a)}),l["*"]&&l["*"].forEach(function(e){u=e(r,o,u,a)}),u.listener=i,t||e?o.attachEvent("on"+s,u):o.addEventListener(s,u);var c=n(o);c.hasOwnProperty(s)||(c[s]=[]),c[s].push({domain:r,eventName:s,listener:u})})})},off:function(r){var a=i(r);return this.forEach(function(r){var i=n(r);Object.keys(i).forEach(function(n){i[n]instanceof Array&&i[n].forEach(function(n){a.test(n.domain)&&(t||e?r.detachEvent("on"+n.eventName,n.listener):r.removeEventListener(n.eventName,n.listener))})})})},snapshots:function(e){return this.map(function(t){return t.cloneNode(!e)})},text:function(r){return 0===arguments.length?this.map(function(r){if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.CDATA_SECTION_NODE)return r.nodeValue;if(t||e){if($.is.nil(r.innerText)){var n=function(e){if(e.nodeType===Node.ELEMENT_NODE){for(var t=[],r=0;r<e.childNodes.length;)t.push(n(e.childNodes[r])),++r;return t.join("")}return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.CDATA_SECTION_NODE?e.nodeValue:""};return n(r)}return r.innerText}return r.textContent}).array().join(""):this.forEach(function(n){n.nodeType===Node.TEXT_NODE?n.nodeValue=r:t||e?n.innerText=r:n.textContent=r})},html:function(e){return 0===arguments.length?$.serialize("html",this):this.forEach(function(t){for(;t.firstChild;)t.removeChild(t.firstChild);$.parse("html",e).forEach(function(e){t.appendChild(e)})})},namespaces:function(){var e={};return this.forEach(function(t){for(;t&&t.attributes;)"http://www.w3.org/1999/xhtml"===t.namespaceURI&&Array.prototype.forEach.call(t.attributes,function(t){var r=t.localName||t.baseName;if("xmlns"!==r||t.namespaceURI){if("xmlns:"===r.substring(0,6)){var n=r.substring(6);e[n]||(e[n]=t.value)}}else e[""]||(e[""]=t.value)}),t=t.parentElement}),e},xml:function(e){if(0===arguments.length)return $.serialize("xml",this);this.forEach(function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return[].slice.call($.parse("xml","<xml>"+code+"</xml>").documentElement.childNodes,0).forEach(function(e){node.appendChild(e)}),this})}}});var u={};$.parse.parsers.html=function(e,t,r){if(t.length<10&&(u.hasOwnProperty(t)||(u[t]=/^<[a-z\-0-9]+>$/i.test(t)),u[t]))return $.create("dom",[document.createElement(t.slice(1,-1))]);var n=document.createElement("div"),i=null;return Array.isArray(t)?i=t.join(""):"string"==typeof t?i=t:isFinite(t.length)&&(i=Array.prototype.join.call(t,"")),n.innerHTML=i,$.create("dom",Array.prototype.slice.call(n.childNodes,0))},$.serialize.serializers.html=function(e,t,r){return $.query(t).map(function(t){return t.nodeType===Node.ELEMENT_NODE?t.innerHTML:t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$(t.childNodes).map(function(t){return t.nodeType===Node.ELEMENT_NODE?t.outerHTML:$.serialize.serializers.html(e,$(t),r)}).array().join(""):t.nodeValue.replace(/[<>"&]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[e]})}).array().join("")};var c=function(e,t){for(var r=[],n=0;n<e.length;){var i=e[n],a=null;if(i.nodeType===Node.ELEMENT_NODE){a=i.namespaceURI?document.createElementNS(i.namespaceURI,i.nodeName):document.createElement(i.localName||i.baseName);for(var o=0;o<i.attributes.length;){var s=i.attributes[o];s.namespaceURI?a.setAttributeNS(s.namespaceURI,s.nodeName,s.value):a.setAttribute(s.localName||s.baseName,s.value),++o}c(i.childNodes,t).forEach(function(e){a.appendChild(e)})}else a=document.importNode(i,!0);r.push(a),++n}return r};$.parse.parsers.xml=function(e,t,r){$.is.nil(r)?r={defaultNamespaceHTML:!0}:$.is(r,Boolean)&&(r={defaultNamespaceHTML:r});var n="<xml>";r.hasOwnProperty("predefinedNamespaces")&&(n="<xml "+Object.keys(r.predefinedNamespaces).map(function(e){return e.length>0?"xmlns:"+$.dom.escapeXML(e)+'="'+$.dom.escapeXML(r.predefinedNamespaces[e])+'"':'xmlns="'+$.dom.escapeXML(r.predefinedNamespaces[e])+'"'}).join(" ")+">"),t=-1!==t.indexOf("?>")?t.replace("?>","?>"+n)+"</xml>":n+t+"</xml>",t=$.dom.replaceHTMLEntityForXML(t);var i=(new DOMParser).parseFromString(t,"text/xml");if(!i||i.getElementsByTagName("parsererror").length){if(!i)throw new Error("Invalid XML");var a=Array.prototype.map.call(i.getElementsByTagName("parsererror"),function(e){return e.getElementsByTagName("div")[0].innerHTML}).join("\n"),o=parseInt(a.split(/(^|\s)line\s/im).filter(function(e){return!!e&&e.trim().length>0}).slice(-1)[0]),s=code;throw isFinite(o)&&(s=code.split("\n").slice(Math.max(0,o-4),o+3).join("\n")),new Error("Invalid XML, "+a+"\n"+s)}var l=$.create.list("dom",[]);if(r.defaultNamespaceHTML)c(i.documentElement.childNodes).forEach(function(e){l.push(e)});else for(var u=0;u<i.documentElement.childNodes.length;)l.push(i.documentElement.childNodes[u]),++u;return l},$.serialize.serializers.xml=function(e,t,r){var n=new a,i=$.create("dom",t),o=i.namespaces();return i.map(function(e){return $.parse("xml","<xml "+Object.keys(o).map(function(e){return e?"xmlns:"+e+'="'+$.dom.escapeXML(o[e])+'"':'xmlns="'+$.dom.escapeXML(o[e])+'"'}).join(" ")+">"+$.dom.replaceHTMLEntityForXML(Array.prototype.map.call(e.childNodes,function(e){return n.serializeToString(e)}).join(""))+"</xml>").children().map(function(e){return n.serializeToString(e)}).array().join("")}).array().join("")}});