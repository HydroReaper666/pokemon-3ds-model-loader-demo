$(function(){let e=!1;try{window.localStorage.getItem("test"),e=!0}catch(e){}try{var t="touchesSimulating-${a55b2db0-8003-40a0-9112-76ae42330545}",n=!1,a=$.browser.touchable;Object.defineProperty($.browser,"touchesSimulating",{get:function(){return n},set:function(o){(n=!!o)?($.browser.touchable=!0,$("body").addFeatures("touch-simulating","screen-touchable")):($.browser.touchable=a,$.browser.touchable||$("body").removeFeatures("screen-touchable"),$("body").removeFeatures("touch-simulating")),e&&window.localStorage.setItem(t,n)}}),e&&"true"===window.localStorage.getItem(t)+""&&($.browser.touchesSimulating=!0)}catch(e){$.error("Failed to provide touch simulation support"),$.error(e)}let o=Date.now(),r=!1;const c=function(){o=Date.now(),r&&(r=!1,$("body").removeFeatures("input-still"))};var i={};i[KeyboardEvent.DOM_KEY_LOCATION_LEFT]="left",i[KeyboardEvent.DOM_KEY_LOCATION_STANDARD]="standard",i[KeyboardEvent.DOM_KEY_LOCATION_RIGHT]="right",i[KeyboardEvent.DOM_KEY_LOCATION_NUMPAD]="numpad";var s=null,d=null,u=null,l=!1,g=!1,f=!1,h=!1,m=!1,p={x:0,y:0},y={x:0,y:0},v=!1,x=null,I=0,P=$("<div>").attribute("id","touch-indicators");$("body").append(P);var b=$("<div>").addFeatures("touch-indicator").attribute("id","main-touch"),w=$("<div>").addFeatures("touch-indicator").attribute("id","secondary-touch"),T=$("<div>").addFeatures("touch-indicator").attribute("id","auxiliary-touch");P.append(b),P.append(w),P.append(T);var S={locationInPage:{x:0,y:0},locationInScreen:{x:0,y:0}},E={},Y=[],D={},X=function(e){return e.hasOwnProperty("pageX")?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.body.scrollLeft,y:e.clientY+document.body.scrollTop}},L=function(e){var t=[];if(e.buttons)1&e.buttons&&t.push("main"),2&e.buttons&&t.push("secondary"),4&e.buttons&&t.push("auxiliary");else if(e.which)if("msie"===$.browser.name)switch(e.which){case 2:t.push("main");break;case 3:t.push("secondary")}else switch(e.which){case 1:t.push("main");break;case 2:t.push("auxiliary");break;case 3:t.push("secondary")}return t},F=function(e){switch(e.button){case-1:return"none";case 0:return"main";case 1:return"auxiliary";case 2:return"secondary"}},K=function(e,t,n){var a=-1!==e.indexOf("main");if(m!==a&&(a?$("body").addFeatures("user-touching"):$("body").removeFeatures("user-touching"),m=a),l&&(y={x:y.x+t.x-p.x,y:y.y+t.y-p.y}),p=t,b.style({left:t.x+"px",top:t.y+"px"}),g)if(P.addFeatures("secondary-touch"),v){P.addFeatures("auxiliary-touch");var o={x:t.x-y.x,y:t.y-y.y},r=Math.sqrt(o.x*o.x+o.y*o.y),c=Math.atan2(o.y,o.x);n?w.animate({left:y.x+Math.cos(c+2*Math.PI/3)*r+"px",top:y.y+Math.sin(c+2*Math.PI/3)*r+"px"},{duration:200}):w.style({left:y.x+Math.cos(c+2*Math.PI/3)*r+"px",top:y.y+Math.sin(c+2*Math.PI/3)*r+"px"}),T.style({left:y.x+Math.cos(c-2*Math.PI/3)*r+"px",top:y.y+Math.sin(c-2*Math.PI/3)*r+"px"})}else P.removeFeatures("auxiliary-touch"),n?w.animate({left:2*y.x-t.x+"px",top:2*y.y-t.y+"px"},{duration:200}):w.style({left:2*y.x-t.x+"px",top:2*y.y-t.y+"px"});else P.removeFeatures("secondary-touch"),P.removeFeatures("auxiliary-touch")},M=function(e){var t=function(e){var t=0;return e.forEach(function(e){t+=e}),t},n=e.touches.map(function(e){return e.identifier}),a=Y.slice(0),o=n.slice(0);return n.forEach(function(e){var t=a.indexOf(e);-1!==t&&(a.splice(t,1),o.splice(o.indexOf(e),1))}),a.forEach(function(e){delete E[e]}),o.forEach(function(t){for(var n=0;n<e.touches.length&&e.touches[n].identifier!==t;)++n;n<e.touches.length&&(E[t]={locationInPage:{x:e.touches[n].locationInPage.x,y:e.touches[n].locationInPage.y},locationInScreen:{x:e.touches[n].locationInScreen.x,y:e.touches[n].locationInScreen.y}})}),0===Y.length&&1===n.length&&(S={locationInPage:{x:e.touches[0].locationInPage.x,y:e.touches[0].locationInPage.y},locationInScreen:{x:e.touches[0].locationInScreen.x,y:e.touches[0].locationInScreen.y}}),Y=n,e.touches.length>0?(e.locationInScreen={x:S.locationInScreen.x+t(e.touches.map(function(e){return e.locationInScreen.x-E[e.identifier].locationInScreen.x})),y:S.locationInScreen.y+t(e.touches.map(function(e){return e.locationInScreen.y-E[e.identifier].locationInScreen.y}))},e.locationInPage={x:S.locationInPage.x+t(e.touches.map(function(e){return e.locationInPage.x-E[e.identifier].locationInPage.x})),y:S.locationInPage.y+t(e.touches.map(function(e){return e.locationInPage.y-E[e.identifier].locationInPage.y}))},D.locationInScreen=e.locationInScreen,D.locationInPage=e.locationInPage):(e.locationInScreen=D.locationInScreen,e.locationInPage=D.locationInPage),e.locationInTarget=$(e.target).positionFromPage(e.locationInPage),e},k=function(e){var t=function(t){return Array.prototype.map.call(t,function(t){var n=X(t);return{identifier:t.identifier,target:t.target,locationInPage:n,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:$(e.target).positionFromPage(n)}})},n={target:e.target,event:e,touches:t(e.touches),targetTouches:t(e.targetTouches),changedTouches:t(e.changedTouches)};return M(n)},O=function(e,t,n){var a={target:e.target,event:e},o=[],r=[],c=X(e),i={x:e.screenX,y:e.screenY};if(t>0){f={identifier:1,target:e.target,locationInPage:c,locationInScreen:i,locationInTarget:$(e.target).positionFromPage(c)};o.push(f),-1!==n.indexOf(1)&&r.push(f)}var s={x:c.x-y.x,y:c.y-y.y},d=Math.sqrt(s.x*s.x+s.y*s.y),u=Math.atan2(s.y,s.x);if(t>1){var l=2*y.x-c.x,g=2*y.y-c.y;v&&(l=y.x+Math.cos(u+2*Math.PI/3)*d,g=y.y+Math.sin(u+2*Math.PI/3)*d);f={identifier:2,target:e.target,locationInPage:{x:l,y:g},locationInScreen:{x:e.screenX-c.x+l,y:e.screenY-c.y+g},locationInTarget:$(e.target).positionFromPage({x:l,y:g})};o.push(f),-1!==n.indexOf(2)&&r.push(f)}if(t>2){l=y.x+Math.cos(u-2*Math.PI/3)*d,g=y.y+Math.sin(u-2*Math.PI/3)*d;var f={identifier:3,target:e.target,locationInPage:{x:l,y:g},locationInScreen:{x:e.screenX-c.x+l,y:e.screenY-c.y+g},locationInTarget:$(e.target).positionFromPage({x:l,y:g})};o.push(f),-1!==n.indexOf(3)&&r.push(f)}return a.touches=o,a.targetTouches=o.slice(0),a.changedTouches=r,M(a)};document.addEventListener("keydown",function(e){if(e.key||e.keyIdentifier){c();var t=!1,n=i[e.location];n||(n="standard"),16===e.which&&(l=!0),17===e.which&&(f=!0),18===e.which&&(g||(t=!0,g=!0,y={x:document.body.clientWidth/2,y:document.body.clientHeight/2},v=!1)),91===e.which&&(h=!0),l=l&&e.shiftKey,f=f&&e.ctrlKey,g=g&&e.altKey,h=h&&e.metaKey,t&&K(m?["main"]:[],p),$.command.dispatch(e.target,"keyboard:hit",{which:e.which,compositing:_,key:e.key?e.key:e.keyIdentifier,location:n,alt:e.altKey,control:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey}).defaultPrevented&&e.preventDefault()}}),document.addEventListener("keyup",function(e){if(e.key||e.keyIdentifier){c();var t=i[e.location];t||(t="standard"),16===e.which&&(l=!1),17===e.which&&(f=!1),18===e.which&&(g=!1),91===e.which&&(h=!1),l=l&&e.shiftKey,f=f&&e.ctrlKey,g=g&&e.altKey,h=h&&e.metaKey,K(m?["main"]:[],p),$.command.dispatch(e.target,"keyboard:released",{which:e.which,compositing:_,key:e.key?e.key:e.keyIdentifier,location:t,alt:e.altKey,control:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey}).defaultPrevented&&e.preventDefault()}});var _=!1;document.addEventListener("compositionstart",function(e){_=!0}),document.addEventListener("compositionend",function(e){_=!1}),document.addEventListener("mousedown",function(e){c(),$.command.dispatch(e.target,"mouse:pressed",{pressed:F(e),pressing:L(e),target:e.target,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("mousedown",function(e){if(c(),$.browser.touchesSimulating){var t=L(e),n=X(e);K(t,n);var a=g?v?3:2:1;x=e.target,$.command.dispatch(x,"touch:started",O(e,1,[1])),$.command.dispatch(x,"touch:added",O(e,1,[1])),a>1&&$.command.dispatch(x,"touch:added",O(e,2,[2])),a>2&&$.command.dispatch(x,"touch:added",O(e,3,[3])),e.preventDefault(),e.stopPropagation()}else if(Date.now()-I<1e3)e.preventDefault(),e.stopPropagation();else switch(F(e)){case"main":s||(s=e.target);break;case"secondary":d||(d=e.target);break;case"auxiliary":u&&(u=e.target)}},!0),document.addEventListener("mousemove",function(e){c(),$.command.dispatch(e.target,"mouse:moved",{pressing:L(e),target:e.target,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("mousemove",function(e){c(),K(m?["main"]:[],p);var t=!1;if(g===e.altKey&&l===e.shiftKey||(t=!0),g=e.altKey,l=e.shiftKey,f=e.ctrlKey,h=e.metaKey,t&&K(m?["main"]:[],p),$.browser.touchesSimulating){var n=L(e),a=X(e);if(K(n,a),m)switch(g?v?3:2:1){case 1:$.command.dispatch(x,"touch:moved",O(e,1,[1]));break;case 2:$.command.dispatch(x,"touch:moved",O(e,2,[1,2]));break;case 3:default:$.command.dispatch(x,"touch:moved",O(e,3,[1,2,3]))}e.preventDefault(),e.stopPropagation()}else if(Date.now()-I<1e3)e.preventDefault(),e.stopPropagation();else{var o=L(e),a=X(e);if(s){r=$(s).positionFromPage(a);-1!==o.indexOf("main")?$.command.dispatch(s,"mouse:dragging",{pressing:o,button:"main",target:s,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}):($.command.dispatch(s,"mouse:dropped",{pressing:o,button:"main",target:s,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}),s=null)}if(d){r=$(d).positionFromPage(a);-1!==o.indexOf("secondary")?$.command.dispatch(d,"mouse:dragging",{pressing:o,button:"secondary",target:d,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}):($.command.dispatch(d,"mouse:dropped",{pressing:o,button:"secondary",target:d,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}),d=null)}if(u){var r=$(u).positionFromPage(a);-1!==o.indexOf("auxiliary")?$.command.dispatch(u,"mouse:dragging",{pressing:o,button:"auxiliary",target:u,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}):($.command.dispatch(u,"mouse:dropped",{pressing:o,button:"auxiliary",target:u,event:e,locationInPage:a,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:r}),u=null)}}},!0),document.addEventListener("mouseup",function(e){c();var t=L(e),n=F(e),a=t.indexOf(n);-1!==a&&t.splice(a,1),$.command.dispatch(e.target,"mouse:released",{released:n,pressing:t,target:e.target,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("mouseup",function(e){c();var t=L(e),n=F(e),a=t.indexOf(n);-1!==a&&t.splice(a,1);var o=X(e);if($.browser.touchesSimulating){K(t,o);var r=g?v?3:2:1;r>2&&$.command.dispatch(x,"touch:removed",O(e,2,[])),r>1&&$.command.dispatch(x,"touch:removed",O(e,1,[])),$.command.dispatch(x,"touch:removed",O(e,0,[])),$.command.dispatch(x,"touch:ended",O(e,0,[])),e.preventDefault(),e.stopPropagation()}else if(Date.now()-I<1e3)e.preventDefault(),e.stopPropagation();else switch(F(e)){case"main":if(s){i=$(s).positionFromPage(o);$.command.dispatch(s,"mouse:dropped",{pressing:t,button:"main",target:s,event:e,locationInPage:o,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:i}),s=null}break;case"secondary":if(d){i=$(d).positionFromPage(o);$.command.dispatch(d,"mouse:dropped",{pressing:t,button:"secondary",target:d,event:e,locationInPage:o,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:i}),d=null}break;case"auxiliary":if(u){var i=$(u).positionFromPage(o);$.command.dispatch(u,"mouse:dropped",{pressing:t,button:"auxiliary",target:u,event:e,locationInPage:o,locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:i}),u=null}}},!0),document.addEventListener("click",function(e){$.command.dispatch(e.target,"mouse:clicked",{target:e.target,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("click",function(e){$.browser.touchesSimulating?(e.preventDefault(),e.stopPropagation()):Date.now()-I<1e3&&(e.preventDefault(),e.stopPropagation())},!0),document.addEventListener("contextmenu",function(e){$.command.dispatch(e.target,"context-menu:wanted",{target:e.target,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}});var t=$(e.target).ancestors(".native-context-menu, .no-context-menu",!0).first();t&&$(t).hasFeature("no-context-menu")&&e.preventDefault()}),document.addEventListener("touchstart",function(e){1===e.touches.length&&$.command.dispatch(e.target,"touch:started",k(e)),$.command.dispatch(e.target,"touch:added",k(e)),I=Date.now(),e.preventDefault(),e.srcElement.focus()}),document.addEventListener("touchmove",function(e){$.command.dispatch(e.target,"touch:moved",k(e)),I=Date.now()}),document.addEventListener("touchend",function(e){$.command.dispatch(e.target,"touch:removed",k(e)),0===e.touches.length&&$.command.dispatch(e.target,"touch:ended",k(e)),I=Date.now()}),document.addEventListener("touchcancel",function(e){$.command.dispatch(e.target,"touch:interrupted",k(e)),0===e.touches.length&&$.command.dispatch(e.target,"touch:canceled",k(e)),I=Date.now()}),document.addEventListener("drop",function(e){$.command.dispatch(e.target,"drag:dropped",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}});e.preventDefault()}),document.addEventListener("drag",function(e){$.command.dispatch(e.target,"drag:holding",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("dragstart",function(e){$.command.dispatch(e.target,"drag:started",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("dragstart",function(e){$.browser.touchesSimulating&&(e.preventDefault(),e.stopPropagation())},!0),document.addEventListener("dragexit",function(e){$.command.dispatch(e.target,"drag:ended",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("dragenter",function(e){$.command.dispatch(e.target,"drag:entered",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("dragover",function(e){$.command.dispatch(e.target,"drag:over",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented||(e.dataTransfer.dropEffect="none"),e.preventDefault()}),document.addEventListener("dragleave",function(e){$.command.dispatch(e.target,"drag:left",{target:e.target,dataTransfer:e.dataTransfer,event:e,locationInPage:X(e),locationInScreen:{x:e.screenX,y:e.screenY},locationInTarget:{x:e.offsetX,y:e.offsetY}}).defaultPrevented&&e.preventDefault()}),document.addEventListener("submit",function(e){$.command.dispatch(e.target,"form:submitted",{event:e}).defaultPrevented&&e.preventDefault()}),document.addEventListener("selectstart",function(e){$.command.dispatch(e.target,"selection:started",{event:e,selection:document.getSelection()})}),document.addEventListener("selectionchange",function(e){$.command.dispatch(document.body,"selection:changed",{event:e,selection:document.getSelection()})});let N=null;document.addEventListener("wheel",function(e){if($.browser.touchesSimulating&&g){var t=!1;e.deltaY>0?v||(v=!0,t=!0):e.deltaY<0&&v&&(v=!1,t=!0),t&&K(m?["main"]:[],p,!0),e.preventDefault(),e.stopPropagation()}else{let t={};$(e.target).ancestors(null,!1,null,!0).filter(function(n){if(n.nodeType!==Node.ELEMENT_NODE)return;n=$(n);let a=$(n).style(["overflow-y","overflow-x"]);!t.y&&e.deltaY&&-1!==["overlay","scroll"].indexOf(a["overflow-y"])&&(e.deltaY>0?n.first().scrollTop+n.first().clientHeight<n.first().scrollHeight&&(t.y=n):n.first().scrollTop>0&&(t.y=n)),!t.x&&e.deltaX&&-1!==["overlay","scroll"].indexOf(a["overflow-x"])&&(e.deltaX>0?n.first().scrollLeft+n.first().clientWidth<n.first().scrollWidth&&(t.x=n):n.first().scrollLeft>0&&(t.x=n))}),$(".scrolling").exclude(t.x).exclude(t.y).removeFeatures("scrolling"),t.x&&!t.x.hasFeature("scrolling")&&t.x.addFeatures("scrolling"),t.y&&!t.y.hasFeature("scrolling")&&t.y.addFeatures("scrolling"),N&&clearTimeout(N),N=setTimeout(function(){$(".scrolling").removeFeatures("scrolling"),N=null},1e3)}},!0),setInterval(function(){Date.now()-o>6e4&&!r&&(r=!0,$("body").addFeatures("input-still"))},3e4)});